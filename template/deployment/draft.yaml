template: "Deployment"
description: "Kubernetes Deployment"
type: "manifest"
versions: ">=0.0.1 <=0.0.4"
defaultVersion: "0.0.4"
variables:
  - name: "PORT"
    default: 
      value: 80
    description: "the port exposed in the application"
    versions: ">=0.0.1"
  - name: "APPNAME"
    description: "the name of the application"
    versions: ">=0.0.1"
  - name: "NAMESPACE"
    description: "the namespace the application is deployed to"
    versions: ">=0.0.1"
  - name: "SERVICEPORT"
    description: "the port of the kubernetes service"
    default:
      referenceVar: "PORT"
    versions: ">=0.0.1"
  - name: "IMAGENAME"
    default:
      referenceVar: "APPNAME"
    description: "the name of the image to use in the deployment"
    versions: ">=0.0.1"
  - name: "IMAGETAG"
    default: 
      disablePrompt: true
      value: "latest"
    description: "the tag of the image to use in the deployment"
    versions: ">=0.0.1"
  - name: "GENERATORLABEL"
    default: 
      disablePrompt: true
      value: "draft"
    description: "the label to identify who generated the resource"
    versions: ">=0.0.1"
  - name: "CPULIMIT"
    description: "resource cpu limit"
    versions: ">=0.0.2"
  - name: "MEMLIMIT"
    description: "resource memory limit"
    versions: ">=0.0.2"
  - name: "CPUREQ"
    description: "resource cpu request"
    versions: ">=0.0.2"
  - name: "MEMREQ"
    description: "resoure memory request"
    versions: ">=0.0.2"
  - name: "READINESSPERIOD"
    default:
      value: "1"
    description: "readiness probe period"
    versions: ">=0.0.3"
  - name: "TIMEOUT"
    default:
      value: "5"
    description: "readiness probe timeout"
    versions: ">=0.0.3"
  - name: "INITIALDELAY"
    default: 
      value: "3"
    description: "initial delay seconds"
    versions: ">=0.0.4"
  - name: "SUCCESSTHRESHOLD"
    default: 
      value: "1"
    description: "readiness probe success threshold"
    versions: ">=0.0.4"
  - name: "FAILURETHRESHOLD"
    default: 
      value: "1"
    description: "readiness probe failure threshold"
    versions: ">=0.0.4"