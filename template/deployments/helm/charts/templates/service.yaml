apiVersion: v1
kind: Service
metadata:
  name: {{ printf "{{ include \"%s.fullname\" . }}" .APPNAME }}
  labels:
    {{ printf "{{- include \"%s.labels\" . | nindent 4 }}" .APPNAME }}
    kubernetes.azure.com/generator: {{print "{{ .Values.generatorLabel }}" }}
  annotations:
    {{print "{{ toYaml .Values.service.annotations | nindent 4 }}\nnamespace: {{ .Values.namespace }}" }}
spec:
  {{ printf "spec:\n  type: {{ .Values.service.type }}\n  ports:\n    - port: {{ .Values.service.port }}\n      targetPort: {{ .Values.containerPort }}\n      protocol: TCP\n      name: svchttp" }}
  selector:
    {{ printf "{{- include \"%s.selectorLabels\" . | nindent 6 }}" .APPNAME }}
